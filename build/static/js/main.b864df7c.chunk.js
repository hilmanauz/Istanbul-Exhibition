(this["webpackJsonpreact-challenge"]=this["webpackJsonpreact-challenge"]||[]).push([[0],{38:function(e,t,a){},39:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(18),i=a.n(n),s=(a(38),a(39),a(32)),o=a(33),l=a(7),j=a(3);var d=a.p+"static/media/heart.27cf625b.svg",h=a.p+"static/media/heart-solid.0991864b.svg",b=a(1);var u=function(){var e=Object(l.f)(),t=Object(j.b)(),a=Object(c.useState)(!0),r=Object(s.a)(a,2),n=r[0],i=r[1],u=Object(c.useCallback)(function(e){var t;return function(){for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];var n=this;t&&clearTimeout(t),t=setTimeout((function(){t=null,e.apply(n,c)}),1e3)}}((function(e){var a=e.target.value;t({type:"imagesSearch/setKey",payload:a})})),[]);return Object(b.jsxs)("nav",{className:"navbar sticky-top navbar-light shadow bg-light",children:[Object(b.jsxs)("a",{href:"",className:"navbar-brand font-weight-bold",onClick:function(t){return function(t){t.preventDefault(),i(!0),e.push("/")}(t)},children:[Object(b.jsx)(o.a,{size:30}),"Istanbul Exhibition"]}),Object(b.jsxs)("div",{className:"d-flex flex-row bd-highlight",children:[Object(b.jsx)("button",{className:"btn btn-sm btn-outline-light rounded-pill font-weight-bold mr-3",type:"button",onClick:function(){i(!1),e.push("/favourite")},children:Object(b.jsx)("img",{src:n?d:h,style:{width:"25px",height:"25px"},alt:"..."})}),n&&Object(b.jsx)("input",{className:"form-control mr-sm-2",type:"text",placeholder:"Search","aria-label":"Search",onChange:u})]})]})},m=a(16),g=a(29),O=a.n(g),p=a.p+"static/media/suit-heart.a22b8344.svg",f=a.p+"static/media/suit-heart-fill.10b288c5.svg";var x,v,y=function(e){var t=e.image,a=Object(l.f)(),c=Object(j.b)();return Object(b.jsxs)("div",{className:"card col-xs-12 col-lg-3 col-xl-4 my-4 mx-auto border-0 shadow-sm",style:{width:"18rem"},children:[Object(b.jsxs)("a",{onClick:function(e){return function(e){e.preventDefault(),O.a.fire({imageUrl:t.src.large2x,imageHeight:450,imageAlt:"Custom image",showCloseButton:!0,confirmButtonText:"Detail",confirmButtonColor:"grey"}).then((function(e){e.isConfirmed&&a.push("/detail/".concat(t.id))}))}(e)},href:"",children:[" ",Object(b.jsx)("img",{src:t.src.large2x,className:"card-img-top mt-2",alt:"...",style:{height:"23rem"}})]}),Object(b.jsx)("div",{className:"card-body d-flex flex-column align-items-center",children:Object(b.jsx)("img",{src:t.isFavourite?f:p,alt:"",className:"bottom-left-icon m-2",onClick:function(){t.isFavourite?(t.isFavourite=!1,c({type:"images/setIsFavourite"})):(t.isFavourite=!0,c({type:"images/setIsFavourite"}))}})})]})},N=a(30),w=a(17),D=a(4);function F(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.images.page})),a=Object(j.c)((function(e){return e.images.tempPage}));Object(c.useEffect)((function(){t!==a&&(e(function(e,t){return function(a){fetch(e+"&page=".concat(t),{method:"GET",headers:{Authorization:"563492ad6f91700001000001aa326ed5c4d14e98af19e4447697bd7c"}}).then((function(e){return e.json()})).then((function(e){a({type:"images/insertData",payload:e.photos})})).catch((function(e){a({type:"images/setError",payload:e})}))}}("https://api.pexels.com/v1/curated?per_page=18",t)),e({type:"images/setTempPage",payload:t}))}),[t]);var r=Object(j.c)((function(e){return e.images.data})),n=Object(j.c)((function(e){return e.images.error})),i=Object(j.c)((function(e){return e.imagesSearch.key})),s=Object(j.c)((function(e){return e.imagesSearch.tempKey}));Object(c.useEffect)((function(){var t;0!==i.length&&i!==s&&(e((t="https://api.pexels.com/v1/search?query=".concat(i||"","&per_page=30"),function(e){fetch(t,{method:"GET",headers:{Authorization:"563492ad6f91700001000001aa326ed5c4d14e98af19e4447697bd7c"}}).then((function(e){return e.json()})).then((function(t){e({type:"imagesSearch/insertData",payload:t.photos})})).catch((function(t){e({type:"imagesSearch/setError",payload:t})})).finally((function(){e({type:"imagesSearch/setLoading",payload:!1})}))})),e({type:"imagesSearch/setTempKey",payload:i}))}),[i]);var o=Object(j.c)((function(e){return e.imagesSearch.loading})),l=Object(j.c)((function(e){return e.imagesSearch.data})),d=Object(j.c)((function(e){return e.imagesSearch.error})),h=Object(D.css)(x||(x=Object(m.a)(["\n  display: block !important;\n  margin: 2px auto;\n  "]))),u=Object(D.css)(v||(v=Object(m.a)(["\n  display: block;\n  margin: 200px auto;\n  "]))),g=Object(j.c)((function(e){return e.images.isFavourite}));return Object(c.useEffect)((function(){}),[g]),n?Object(b.jsxs)("div",{children:["You have an error ",n.message]}):r&&0===i.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsx)("h1",{className:"text-center",children:"Aesthetic's Photograph"}),Object(b.jsx)("br",{}),Object(b.jsx)(N.a,{dataLength:r.length,next:function(){e({type:"images/setPage",payload:1})},hasMore:!0,loader:Object(b.jsx)(w.BarLoader,{css:h}),className:"row mb-5 mx-auto d-flex",style:{width:"100%"},endMessage:Object(b.jsx)("p",{style:{textAlign:"center"},children:Object(b.jsx)("b",{children:"Yay! You have seen it all"})}),children:r.map((function(e,t){return Object(b.jsx)(y,{image:e},t)}))})]})}):o?Object(b.jsx)(w.ClipLoader,{css:u,size:150}):d?Object(b.jsxs)("div",{children:["You have an error ",d.message]}):Object(b.jsxs)("div",{className:"container mt-5",children:[Object(b.jsxs)("h1",{className:"text-center",children:[i.toUpperCase()," Collection"]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{className:"row mb-5 mx-auto d-flex",style:{width:"100%"},children:l.map((function(e){return Object(b.jsx)(y,{image:e},e.id)}))})]})}var S,C=a(25),k=a.n(C);function E(){var e=Object(l.g)().id,t=Object(j.b)();Object(c.useEffect)((function(){var a;t((a="https://api.pexels.com/v1/photos/".concat(e),function(e){fetch(a,{method:"GET",headers:{Authorization:"563492ad6f91700001000001aa326ed5c4d14e98af19e4447697bd7c"}}).then((function(e){return e.json()})).then((function(t){e({type:"imageDetail/insertData",payload:t})})).catch((function(t){e({type:"imageDetail/setError",payload:t})})).finally((function(){e({type:"imageDetail/setLoading",payload:!1})}))}))}),[e]);var a=Object(j.c)((function(e){return e.imageDetail.data})),r=Object(j.c)((function(e){return e.imageDetail.loading})),n=Object(j.c)((function(e){return e.imageDetail.error}));t({type:"imageDetail/setImagePhotographer",payload:a.photographer});var i=Object(j.c)((function(e){return e.images.data})),s=Object(j.c)((function(e){return e.imageDetail.photographer})),o=k.a.groupBy(i,(function(e){return e.photographer})),d=k.a.pick(o,s),h=Object.values(d);console.log(h);var u=Object(D.css)(S||(S=Object(m.a)(["\n  display: block;\n  margin: 200px auto;\n  "])));return r?Object(b.jsx)(w.ClipLoader,{css:u,size:150}):n?Object(b.jsxs)("h1",{children:["Error in ",n]}):a?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container mt-5",style:{maxWidth:"1200px"},children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-5",children:Object(b.jsxs)("div",{className:"card shadow-sm p-3 mb-5 bg-white rounded",style:{width:"30rem",position:"sticky",top:120},children:[Object(b.jsx)("img",{src:a.src.landscape,className:"card-img-top img-thumbnail",alt:"..."}),Object(b.jsxs)("div",{className:"card-body text-center",children:[Object(b.jsx)("h3",{className:"card-title",children:"Photographer:"}),Object(b.jsx)("p",{className:"card-text",style:{fontSize:"20px"},children:a.photographer}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-6 d-flex justify-content-center",children:[Object(b.jsx)("h5",{className:"card-title mr-3",children:"Width:"}),Object(b.jsx)("p",{children:a.width})]}),Object(b.jsxs)("div",{className:"col-6 d-flex justify-content-center",children:[Object(b.jsx)("h5",{className:"card-title mr-3",children:"Height:"}),Object(b.jsx)("p",{children:a.height})]})]}),Object(b.jsxs)("button",{className:"btn-lg btn-secondary",children:[" ",Object(b.jsxs)("a",{href:a.src.original,target:"_blank",style:{textDecoration:"none",color:"white"},rel:"noreferrer",children:["Download ",Object(b.jsx)("i",{className:"fa fa-download","aria-hidden":"true"})," "]})]})]})]})}),Object(b.jsx)("div",{className:"col-7",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsxs)("h2",{children:["Collection from ",s]}),h.length>0&&Object(b.jsx)("div",{className:"row mb-5 mx-auto d-flex",style:{width:"100%"},children:h[0].map((function(e,t){return Object(b.jsx)(y,{image:e},t)}))}),0===h.length&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{src:"https://i.pinimg.com/originals/b7/41/bd/b741bd5da3e33944ab9432e9e0923822.gif",alt:"...",style:{height:"400px",width:"600px"}}),Object(b.jsx)("h3",{className:"mt-3",children:"Collection Not Found"})]})]})})]})})}):void 0}function P(){var e=Object(j.c)((function(e){return e.images.data})).filter((function(e){return!0===e.isFavourite})),t=Object(j.c)((function(e){return e.imagesSearch.data})),a=[];t&&(a=t.filter((function(e){return!0===e.isFavourite})));var r=Object(j.c)((function(e){return e.images.isFavourite}));return Object(c.useEffect)((function(){}),[r]),Object(b.jsx)("div",{className:"container mt-5",children:Object(b.jsxs)("div",{className:"text-center mt-5",children:[Object(b.jsx)("h1",{children:"Your Favourite"}),Object(b.jsxs)("div",{className:"row mb-5 mx-auto d-flex",style:{width:"100%"},children:[e.length>0&&e.map((function(e,t){return Object(b.jsx)(y,{image:e},t)})),a&&a.map((function(e,t){return Object(b.jsx)(y,{image:e},t)}))]}),0===e.length&&0===a.length&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{src:"https://cdn.dribbble.com/users/932640/screenshots/2470471/jq.gif",alt:"...",style:{height:"400px",width:"600px"}}),Object(b.jsx)("h3",{className:"mt-3",children:"Favourite Not Found"})]})]})})}var T=a(14);var L=function(){return Object(b.jsx)(T.a,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(u,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{path:"/favourite",children:Object(b.jsx)(P,{})}),Object(b.jsx)(l.a,{path:"/detail/:id",children:Object(b.jsx)(E,{})}),Object(b.jsx)(l.a,{path:"/",children:Object(b.jsx)(F,{})})]})]})})},I=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,78)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),r(e),n(e),i(e)}))},z=a(12),A=a(2),B={data:[],loading:!0,error:null,photographer:""};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;return"imageDetail/insertData"===a?Object(A.a)(Object(A.a)({},e),{},{data:c}):"imageDetail/setLoading"===a?Object(A.a)(Object(A.a)({},e),{},{loading:c}):"imageDetail/setError"===a?Object(A.a)(Object(A.a)({},e),{},{error:c}):"imageDetail/setImagePhotographer"===a?Object(A.a)(Object(A.a)({},e),{},{photographer:c}):e},M={data:[],error:null,page:Math.ceil(10*Math.random()),tempPage:0,isFavourite:0};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;return"images/insertData"===a?Object(A.a)(Object(A.a)({},e),{},{data:e.data.concat(c)}):"images/setPage"===a?Object(A.a)(Object(A.a)({},e),{},{page:e.page+c}):"images/setError"===a?Object(A.a)(Object(A.a)({},e),{},{error:c}):"images/setIsFavourite"===a?Object(A.a)(Object(A.a)({},e),{},{isFavourite:e.isFavourite+1}):"images/setTempPage"===a?Object(A.a)(Object(A.a)({},e),{},{tempPage:c}):e},G={data:[],loading:!0,error:null,key:"",tempKey:""};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;return"imagesSearch/insertData"===a?Object(A.a)(Object(A.a)({},e),{},{data:c}):"imagesSearch/setKey"===a?Object(A.a)(Object(A.a)({},e),{},{key:c}):"imagesSearch/setLoading"===a?Object(A.a)(Object(A.a)({},e),{},{loading:c}):"imagesSearch/setError"===a?Object(A.a)(Object(A.a)({},e),{},{error:c}):"imagesSearch/setTempKey"===a?Object(A.a)(Object(A.a)({},e),{},{tempKey:c}):e},q=Object(z.c)({imageDetail:K,images:Y,imagesSearch:_}),H=a(31),J=Object(z.d)(q,Object(z.a)(H.a));i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(j.a,{store:J,children:Object(b.jsx)(L,{})})}),document.getElementById("root")),I()}},[[77,1,2]]]);
//# sourceMappingURL=main.b864df7c.chunk.js.map